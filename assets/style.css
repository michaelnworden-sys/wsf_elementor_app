/* assets/style.css - AGGRESSIVE STYLING VERSION */

/* --- WSF Color Palette --- */
:root {
    --wsf-darkest: #006951 !important;
    --wsf-mid-dark: #007B5F !important;
    --wsf-light-grey: #E0EFEC !important;
    --wsf-lightest-cyan: #F2FBFC !important;
    --wsf-white: #FFFFFF !important;
    --wsf-text-dark: #262730 !important;
}

/* --- General App & Title Styling --- */
h1, #welcome-to-sound-hopper {
    color: var(--wsf-darkest) !important;
}

/* --- AGGRESSIVE AVATAR STYLING --- */
/* Target all possible avatar selectors */
[data-testid="stChatMessageAvatarAssistant"],
[data-testid="stAvatarIcon-assistant"],
.st-emotion-cache-1c7y2kd,
div[data-testid="stChatMessage"] div[class*="avatar"] {
    background-color: var(--wsf-darkest) !important;
    color: var(--wsf-white) !important;
}

[data-testid="stChatMessageAvatarUser"],
[data-testid="stAvatarIcon-user"],
div[data-testid="stChatMessage"] div[class*="avatar"][data-testid*="user"] {
    background-color: var(--wsf-mid-dark) !important;
    color: var(--wsf-white) !important;
}

/* Target SVG icons inside avatars */
[data-testid="stChatMessageAvatarAssistant"] svg,
[data-testid="stAvatarIcon-assistant"] svg,
[data-testid="stChatMessageAvatarUser"] svg,
[data-testid="stAvatarIcon-user"] svg,
.st-emotion-cache-1c7y2kd svg,
div[data-testid="stChatMessage"] svg {
    color: var(--wsf-white) !important;
    fill: var(--wsf-white) !important;
}

/* --- CHAT MESSAGE BACKGROUNDS --- */
/* Make ALL chat message containers white */
[data-testid="stChatMessage"],
div[data-testid="stChatMessage"],
.st-emotion-cache-janbn0,
.st-emotion-cache-1c7y2kd {
    background-color: var(--wsf-white) !important;
    color: var(--wsf-text-dark) !important;
}

/* Specific targeting for user messages */
[data-testid="stChatMessage"]:has([data-testid="stChatMessageAvatarUser"]),
[data-testid="stChatMessage"]:has([data-testid="stAvatarIcon-user"]) {
    background-color: var(--wsf-white) !important;
    color: var(--wsf-text-dark) !important;
}

/* Specific targeting for assistant messages */
[data-testid="stChatMessage"]:has([data-testid="stChatMessageAvatarAssistant"]),
[data-testid="stChatMessage"]:has([data-testid="stAvatarIcon-assistant"]) {
    background-color: var(--wsf-white) !important;
    color: var(--wsf-text-dark) !important;
}

/* --- CHAT INPUT STYLING --- */
/* Make chat input white */
[data-testid="stChatInput"],
[data-testid="stChatInput"] > div,
[data-testid="stChatInput"] textarea,
.st-emotion-cache-1rtdyuf,
div[data-testid="stChatInput"] div {
    background-color: var(--wsf-white) !important;
    border: 1px solid var(--wsf-light-grey) !important;
}

/* Chat input textarea specifically */
[data-testid="stChatInput"] textarea {
    background-color: var(--wsf-white) !important;
    color: var(--wsf-text-dark) !important;
}

/* --- Button Styling --- */
.stButton > button {
    background-color: var(--wsf-mid-dark) !important;
    color: var(--wsf-white) !important;
    border: none !important;
    border-radius: 50px !important;
    padding: 8px 20px !important;
    width: 100% !important;
}

.stButton > button:hover {
    background-color: var(--wsf-darkest) !important;
}

/* --- Additional fallback selectors --- */
/* In case Streamlit uses different class names */
.stChatMessage {
    background-color: var(--wsf-white) !important;
}

.stAvatar {
    background-color: var(--wsf-darkest) !important;
    color: var(--wsf-white) !important;
}

/* Force override any emotion cache classes that might be interfering */
[class*="emotion-cache"] [data-testid*="Avatar"] {
    background-color: var(--wsf-darkest) !important;
    color: var(--wsf-white) !important;
}

[class*="emotion-cache"] [data-testid*="Avatar"] svg {
    color: var(--wsf-white) !important;
    fill: var(--wsf-white) !important;
}